{"version":3,"file":"custom.js","sources":["../src/polyfills/classList.js","../src/polyfills/query.js","../src/utils/common.js","../src/utils/event.js","../src/utils/class.js","../src/utils/xget.js","../src/lang.js","../src/mobile.js","../src/search.js","../src/href.js","../../../node_modules/perfect-scrollbar/src/js/lib/class.js","../../../node_modules/perfect-scrollbar/src/js/lib/dom.js","../../../node_modules/perfect-scrollbar/src/js/lib/helper.js","../../../node_modules/perfect-scrollbar/src/js/plugin/default-setting.js","../../../node_modules/perfect-scrollbar/src/js/lib/event-manager.js","../../../node_modules/perfect-scrollbar/src/js/lib/guid.js","../../../node_modules/perfect-scrollbar/src/js/plugin/instances.js","../../../node_modules/perfect-scrollbar/src/js/plugin/destroy.js","../../../node_modules/perfect-scrollbar/src/js/plugin/update-scroll.js","../../../node_modules/perfect-scrollbar/src/js/plugin/update-geometry.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/click-rail.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/drag-scrollbar.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/keyboard.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/mouse-wheel.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/touch.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/selection.js","../../../node_modules/perfect-scrollbar/src/js/plugin/handler/native-scroll.js","../../../node_modules/perfect-scrollbar/src/js/plugin/initialize.js","../../../node_modules/perfect-scrollbar/src/js/plugin/update.js","../../../node_modules/perfect-scrollbar/src/js/main.js","../../../node_modules/perfect-scrollbar/index.js","../src/toc.js","../src/index.js"],"sourcesContent":["/*\n * classList.js: Cross-browser full element.classList implementation.\n * 2014-07-23\n *\n * By Eli Grey, http://eligrey.com\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\n/* global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in self) {\n    // Full polyfill for browsers with no classList support\n    if (!(\"classList\" in document.createElement(\"_\"))) {\n        (function(view) {\n            \"use strict\";\n            if (!('Element' in view)) return;\n            var\n                classListProp = \"classList\",\n                protoProp = \"prototype\",\n                elemCtrProto = view.Element[protoProp],\n                objCtr = Object,\n                strTrim = String[protoProp].trim || function() {\n                    return this.replace(/^\\s+|\\s+$/g, \"\");\n                },\n                arrIndexOf = Array[protoProp].indexOf || function(item) {\n                    var\n                        i = 0,\n                        len = this.length;\n                    for (; i < len; i++) {\n                        if (i in this && this[i] === item) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                },\n                // Vendors: please allow content code to instantiate DOMExceptions\n                DOMEx = function(type, message) {\n                    this.name = type;\n                    this.code = DOMException[type];\n                    this.message = message;\n                },\n                checkTokenAndGetIndex = function(classList, token) {\n                    if (token === \"\") {\n                        throw new DOMEx(\n                            \"SYNTAX_ERR\", \"An invalid or illegal string was specified\"\n                        );\n                    }\n                    if (/\\s/.test(token)) {\n                        throw new DOMEx(\n                            \"INVALID_CHARACTER_ERR\", \"String contains an invalid character\"\n                        );\n                    }\n                    return arrIndexOf.call(classList, token);\n                },\n                ClassList = function(elem) {\n                    var\n                        trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\"),\n                        classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n                        i = 0,\n                        len = classes.length;\n                    for (; i < len; i++) {\n                        this.push(classes[i]);\n                    }\n                    this._updateClassName = function() {\n                        elem.setAttribute(\"class\", this.toString());\n                    };\n                },\n                classListProto = ClassList[protoProp] = [],\n                classListGetter = function() {\n                    return new ClassList(this);\n                };\n            // Most DOMException implementations don't allow calling DOMException's toString()\n            // on non-DOMExceptions. Error's toString() is sufficient here.\n            DOMEx[protoProp] = Error[protoProp];\n            classListProto.item = function(i) {\n                return this[i] || null;\n            };\n            classListProto.contains = function(token) {\n                token += \"\";\n                return checkTokenAndGetIndex(this, token) !== -1;\n            };\n            classListProto.add = function() {\n                var\n                    tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token, updated = false;\n                do {\n                    token = tokens[i] + \"\";\n                    if (checkTokenAndGetIndex(this, token) === -1) {\n                        this.push(token);\n                        updated = true;\n                    }\n                }\n                while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.remove = function() {\n                var\n                    tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token, updated = false,\n                    index;\n                do {\n                    token = tokens[i] + \"\";\n                    index = checkTokenAndGetIndex(this, token);\n                    while (index !== -1) {\n                        this.splice(index, 1);\n                        updated = true;\n                        index = checkTokenAndGetIndex(this, token);\n                    }\n                }\n                while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.toggle = function(token, force) {\n                token += \"\";\n\n                var\n                    result = this.contains(token),\n                    method = result ? force !== true && \"remove\" : force !== false && \"add\";\n\n                if (method) {\n                    this[method](token);\n                }\n\n                if (force === true || force === false) {\n                    return force;\n                } else {\n                    return !result;\n                }\n            };\n            classListProto.toString = function() {\n                return this.join(\" \");\n            };\n\n            if (objCtr.defineProperty) {\n                var classListPropDesc = {\n                    get: classListGetter,\n                    enumerable: true,\n                    configurable: true\n                };\n                try {\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                } catch (ex) { // IE 8 doesn't support enumerable:true\n                    if (ex.number === -0x7FF5EC54) {\n                        classListPropDesc.enumerable = false;\n                        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                    }\n                }\n            } else if (objCtr[protoProp].__defineGetter__) {\n                elemCtrProto.__defineGetter__(classListProp, classListGetter);\n            }\n        }(self));\n    } else {\n        // There is full or partial native classList support, so just check if we need\n        // to normalize the add/remove and toggle APIs.\n        (function() {\n            \"use strict\";\n            var testElement = document.createElement(\"_\");\n            testElement.classList.add(\"c1\", \"c2\");\n            // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n            // classList.remove exist but support only one argument at a time.\n            if (!testElement.classList.contains(\"c2\")) {\n                var createMethod = function(method) {\n                    var original = DOMTokenList.prototype[method];\n\n                    DOMTokenList.prototype[method] = function(token) {\n                        var i, len = arguments.length;\n\n                        for (i = 0; i < len; i++) {\n                            token = arguments[i];\n                            original.call(this, token);\n                        }\n                    };\n                };\n                createMethod('add');\n                createMethod('remove');\n            }\n            testElement.classList.toggle(\"c3\", false);\n            // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n            // support the second argument.\n            if (testElement.classList.contains(\"c3\")) {\n                var _toggle = DOMTokenList.prototype.toggle;\n\n                DOMTokenList.prototype.toggle = function(token, force) {\n                    if (1 in arguments && !this.contains(token) === !force) {\n                        return force;\n                    } else {\n                        return _toggle.call(this, token);\n                    }\n                };\n            }\n            testElement = null;\n        }());\n    }\n}\n","// http://stackoverflow.com/questions/28194786/how-to-make-document-queryselector-work-in-ie6\nif (!document.querySelector) {\n    document.querySelector = function(selector) {\n        var head = document.documentElement.firstChild;\n        var styleTag = document.createElement(\"STYLE\");\n        head.appendChild(styleTag);\n        document.__qsResult = [];\n\n        styleTag.styleSheet.cssText = selector + \"{x:expression(document.__qsResult.push(this))}\";\n        window.scrollBy(0, 0);\n        head.removeChild(styleTag);\n        return document.__qsResult[0] || null;\n    };\n}\n\nif (!document.querySelectorAll) {\n    document.querySelectorAll = function(selector) {\n        var head = document.documentElement.firstChild;\n        var styleTag = document.createElement(\"STYLE\");\n        head.appendChild(styleTag);\n        document.__qsResult = [];\n\n        styleTag.styleSheet.cssText = selector + \"{x:expression(document.__qsResult.push(this))}\";\n        window.scrollBy(0, 0);\n        head.removeChild(styleTag);\n\n        var result = [];\n        for (var i in document.__qsResult) {\n            result.push(document.__qsResult[i]);\n        }\n        return result;\n    };\n}\n","\nexport const jsonToQuery = function (a) {\n    const add = function (s, k, v) {\n        v = typeof v === 'function' ? v() : v === null ? '' : v === undefined ? '' : v;\n        s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n    };\n    const buildParams = function (prefix, obj, s) {\n        let i;\n        let len;\n        let key;\n\n        if (Object.prototype.toString.call(obj) === '[object Array]') {\n            for (i = 0, len = obj.length; i < len; i++) {\n                buildParams(prefix + '[' + (typeof obj[i] === 'object' ? i : '') + ']', obj[i], s);\n            }\n        } else if (obj && obj.toString() === '[object Object]') {\n            for (key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    if (prefix) {\n                        buildParams(prefix + '[' + key + ']', obj[key], s, add);\n                    } else {\n                        buildParams(key, obj[key], s, add);\n                    }\n                }\n            }\n        } else if (prefix) {\n            add(s, prefix, obj);\n        } else {\n            for (key in obj) {\n                add(s, key, obj[key]);\n            }\n        }\n        return s;\n    };\n    return buildParams('', a, []).join('&').replace(/%20/g, '+');\n};\n\nexport const JSONParse = function () {\n    if (window.JSON) {\n        return JSON.parse;\n    } else {\n        return function (jsonstr) {\n            return (new Function(\"return\" + jsonstr))();\n        };\n    }\n}();\n\nexport function debounce(fn, delay) {\n    let timer;\n    return function(...args) {\n        if (timer) {\n            clearTimeout(timer);\n        }\n        timer = setTimeout(() => {\n            fn.apply(this, args);\n        }, delay);\n    };\n}","export const isMobile = function() {\n    try {\n        document.createEvent(\"TouchEvent\");\n        return true;\n    } catch (e) {\n        return false;\n    }\n}();\n\nexport const bindEvent = (element, event, cb, capture) => {\n    !element.addEventListener && (event = 'on' + event);\n    (element.addEventListener || element.attachEvent).call(element, event, cb, capture);\n    return cb;\n};\n\nexport const bindClickEvent = (element, cb, stop = false, capture = false) => {\n    let eventType = isMobile ? 'touchstart' : 'click';\n    if (stop) {\n        return bindEvent(element, eventType, function(event) {\n            cb.apply(this, arguments);\n            if (event.preventDefault) {\n                event.preventDefault();\n                event.stopPropagation();\n            } else {\n                event.returnValue = false;\n            }\n        }, capture);\n    } else {\n        return bindEvent(element, eventType, cb, capture);\n    }\n};\n","function trimCls(c) {\n    return (typeof (c) === 'string' ? c.trim().replace(/\\s+/g, ' ').split(' ') : c);\n}\n\nfunction CtrlClass(ele) {\n    if (!ele) throw new Error('ctrlClass传入元素为空');\n    this.ele = ele;\n    this.classList = ele.classList;\n}\n\nCtrlClass.prototype.show = function() {\n    this.ele.style.display = 'block';\n};\n\nCtrlClass.prototype.hide = function() {\n    this.ele.style.display = 'none';\n};\n\nCtrlClass.prototype.hasClass = function(c) {\n    return trimCls(c).every((v) => {\n        return !!this.classList.contains(v);\n    });\n};\n\nCtrlClass.prototype.addClass = function(c) {\n    trimCls(c).forEach((v) => {\n        if (!this.hasClass(v)) {\n            this.classList.add(v);\n        }\n    });\n};\n\nCtrlClass.prototype.removeClass = function(c) {\n    trimCls(c).forEach((v) => {\n        this.classList.remove(v);\n    });\n};\n\nCtrlClass.prototype.toggleClass = function(c) {\n    trimCls(c).forEach((v) => {\n        this.classList.toggle(v);\n    });\n};\n\nexport default CtrlClass;\n","import {\n    jsonToQuery,\n    JSONParse\n} from './common.js';\n\nconst win = typeof window !== 'undefined' ? window : self;\n// Get XMLHttpRequest object\nlet xdr;\nlet getXHR = win.XMLHttpRequest ? function () {\n    return new win.XMLHttpRequest();\n} : function () {\n    return new win.ActiveXObject('Microsoft.XMLHTTP');\n};\nlet xhr2 = (getXHR().responseType === '');\n\nfunction Xget(url, data, options) {\n    this.headers = {\n        Accept: '*/*',\n        'Cache-Control': ''\n    };\n    this.callback = options.callback;\n    this.errHandler = options.errHandler || function (msg) {\n        console.log(`error: ${msg}`);\n    };\n    // Prepare URL\n    this.url = url + '?' + jsonToQuery(data);\n    this.options = {\n        _async: true,\n        timeout: 30000,\n        attempts: 2\n    };\n    this.attempts = 0;\n    this.aborted = false;\n    // timeout id\n    this.timeoutid = null;\n    // Guess if we're dealing with a cross-origin request\n    let i = url.match(/\\/\\/(.+?)\\//);\n    this.crossOrigin = i && (i[1] ? i[1] !== location.host : false);\n}\n\nXget.prototype.abort = function () {\n    if (!this.aborted) {\n        if (this.xhr && this.xhr.readyState !== 4) { // https://stackoverflow.com/questions/7287706/ie-9-javascript-error-c00c023f\n            this.xhr.abort();\n        }\n        this.aborted = true;\n    }\n};\n\nXget.prototype.handleResponse = function (xhr = this.xhr) {\n    clearTimeout(this.timeoutid);\n    // Verify if the request has not been previously aborted\n    if (this.aborted) {\n        return;\n    }\n    // Handle response\n    try {\n        // Process response\n        if (xhr.responseType === 'json') {\n            if ('response' in xhr && xhr.response === null) {\n                throw 'The request response is empty';\n            }\n            this.response = xhr.response;\n        } else {\n            this.response = JSONParse(xhr.responseText);\n        }\n        // Late status code verification to allow passing data when, per example, a 409 is returned\n        // --- https://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if ('status' in xhr && !/^2|1223/.test(xhr.status)) {\n            throw xhr.status + ' (' + xhr.statusText + ')';\n        }\n        // Fulfilled\n        this.callback(this.response);\n    } catch (e) {\n        // Rejected\n        this.handleError(e);\n    }\n};\n\nXget.prototype.handleTimeout = function () {\n    if (!this.aborted) {\n        if (!this.options.attempts || ++this.attempts !== this.options.attempts) {\n            this.xhr.abort();\n            this.send();\n        } else {\n            this.handleError({\n                message: 'Timeout (' + this.url + ')'\n            });\n        }\n    }\n};\n\nXget.prototype.handleError = function (e) {\n    console.log(e);\n    let message = e && e.message;\n    if (!this.aborted) {\n        message = typeof message === 'string' ? message : 'Connection aborted';\n        this.abort();\n        this.errHandler(message);\n    }\n};\n\nXget.prototype.send = function ({\n    method = 'get',\n    url = this.url,\n    options = this.options,\n    headers = this.headers\n} = {}) {\n    // Get XHR object\n    let xhr = getXHR();\n    if (this.crossOrigin && win.XDomainRequest) {\n        xhr = new XDomainRequest(); // CORS with IE8/9\n        xdr = true;\n    }\n    // Open connection\n    if (xdr) {\n        xhr.open(method, url);\n    } else {\n        xhr.open(method, url, options._async);\n    }\n    this.xhr = xhr;\n\n    // Set headers\n    if (!xdr) {\n        for (var i in headers) {\n            if (headers[i]) {\n                xhr.setRequestHeader(i, headers[i]);\n            }\n        }\n    }\n    // Plug response handler\n    if (xhr2 || xdr) {\n        xhr.onload = () => {\n            this.handleResponse.apply(this);\n        };\n        xhr.onerror = () => {\n            this.handleError.apply(this);\n        };\n        // http://cypressnorth.com/programming/internet-explorer-aborting-ajax-requests-fixed/\n        if (xdr) {\n            xhr.onprogress = function () {};\n        }\n    } else {\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                this.handleResponse.apply(this);\n            }\n        };\n    }\n    // Plug timeout\n    if (options._async) {\n        if ('timeout' in xhr) {\n            xhr.timeout = options.timeout;\n            xhr.ontimeout = () => {\n                this.handleTimeout.apply(this);\n            };\n        } else {\n            this.timeoutid = setTimeout(() => {\n                this.handleTimeout.apply(this);\n            }, options.timeout);\n        }\n        // http://cypressnorth.com/programming/internet-explorer-aborting-ajax-requests-fixed/\n    } else if (xdr) {\n        xhr.ontimeout = function () {};\n    }\n\n    // Send request\n    if (xdr) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/XDomainRequest\n        setTimeout(function () {\n            xhr.send(null);\n        }, 0);\n    } else {\n        xhr.send(null);\n    }\n};\n\nexport default Xget;\n","import { bindEvent } from './utils';\n\nconst select = document.getElementById('header-lang-select');\n\nbindEvent(select, 'change', (e) => {\n    let target = e.target || e.srcElement;\n    location.href = target.value;\n});\n","// Mobile nav\nimport {CtrlClass, bindClickEvent} from './utils';\n\nconst $container = document.body;\nconst bodyClass = new CtrlClass($container);\n\nlet mnavClass = new CtrlClass(document.querySelector('#mobile-nav'));\nlet show = false;\nbindClickEvent(document.querySelector('#main-nav-toggle'), function () {\n    if (show) return;\n    bodyClass.toggleClass('mobile-nav-on');\n    mnavClass.show();\n    show = true;\n}, true);\n\nbindClickEvent($container, function () {\n    if (show === false) return;\n    setTimeout(function() {\n        bodyClass.removeClass('mobile-nav-on');\n        mnavClass.hide();\n        show = false;\n    }, 100);\n});\n","import {\n    bindEvent,\n    bindClickEvent,\n    Xget,\n    debounce\n} from './utils';\nconst input = document.getElementById('header-search-input');\nconst box = document.getElementById('header-search-box');\nconst boxUl = document.getElementById('header-search-list');\n\n// http://chaoo.oschina.io/2016/11/09/%E8%87%AA%E5%AE%9A%E4%B9%89HEXO%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2Javascript-json.html\n// xhr加载数据\nlet searchData;\n\nexport var loadData = function (callback = () => {}) {\n    if (searchData && (searchData.length > 0)) {\n        loadData = (cb) => cb(searchData);\n        return loadData(callback);\n    } else {\n        let getJson = new Xget('/content.json', null, {\n            callback(data) {\n                if ((searchData = data.posts) && (searchData.length > 0)) {\n                    callback(searchData);\n                }\n            }\n        });\n        getJson.send();\n    }\n};\n\nloadData();\n\nfunction regtest(raw, regExp) {\n    regExp.lastIndex = 0;\n    return regExp.test(raw);\n}\n\n// 渲染到页面\nfunction render(data) {\n    boxUl.innerHTML = '';\n    try {\n        data.forEach(function (post) {\n            let li = document.createElement('li');\n            li.innerHTML = `<a href=\"/${post.path}\">${post.title}</a>`;\n            boxUl.appendChild(li);\n        });\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nfunction trim(str) {\n    return str.toLowerCase().replace(/^\\s+|\\s+$/g, '');\n}\n\n// 查询\nexport function searchKey(key, callback) {\n    // 关键字 => 正则，空格隔开的看作多个关键字\n    // a b c => /a|b|c/gmi\n    if (key !== '') {\n        let regExp = new RegExp(key.replace(/[ ]/g, '|'), 'gmi');\n        loadData(function (data) {\n            let result = [];\n            for (let post of data) {\n                let title = post.title;\n                key = trim(key);\n                if (key === trim(title)) {\n                    result.push({\n                        pri: 0,\n                        post\n                    });\n                } else if (regtest(post.title, regExp)) {\n                    result.push({\n                        pri: 1,\n                        post\n                    });\n                } else if (regtest(post.text, regExp)) {\n                    result.push({\n                        pri: 2,\n                        post\n                    });\n                }\n            }\n            callback(result.sort((a, b) => a.pri - b.pri).map(x => x.post));\n        });\n    } else {\n        callback([]);\n    }\n}\n\nfunction _search(key) {\n    searchKey(key, (result) => {\n        if (result.length) {\n            box.style.display = 'block';\n            render(result);\n        } else {\n            render([]);\n            box.style.display = 'none';\n        }\n    });\n}\n\nconst search = debounce(_search, 200);\n\nbindEvent(input, 'keyup', (event) => {\n    search(input.value);\n    if (event.preventDefault) {\n        event.preventDefault();\n        event.stopPropagation();\n    } else {\n        event.returnValue = false;\n    }\n});\n\nbindClickEvent(document.body, function (e) {\n    if (e.target.tagName.toLowerCase() !== 'a') {\n        box.style.display = 'none';\n    }\n});\n\nbindClickEvent(input, function (e) {\n    if (input.value) {\n        box.style.display = 'block';\n    }\n}, false);","import {\n    searchKey\n} from './search.js';\nimport {\n    bindClickEvent\n} from './utils';\n\nfunction getUrl(name, callback) {\n    return searchKey(name, (results) => {\n        let res;\n        if ((res = results[0]) && (res = res.path)) {\n            callback(res);\n        }\n    });\n}\n\nbindClickEvent(document.body, function (e) {\n    let target = e.target;\n    if (target.tagName.toLowerCase() === 'a') {\n        let href;\n        if (/^[^#/]+$/.test(href = target.getAttribute('href'))) {\n            getUrl(href, (res) => {\n                target.href = '/' + res;\n            });\n        }\n    }\n});\n","'use strict';\n\nfunction oldAdd(element, className) {\n  var classes = element.className.split(' ');\n  if (classes.indexOf(className) < 0) {\n    classes.push(className);\n  }\n  element.className = classes.join(' ');\n}\n\nfunction oldRemove(element, className) {\n  var classes = element.className.split(' ');\n  var idx = classes.indexOf(className);\n  if (idx >= 0) {\n    classes.splice(idx, 1);\n  }\n  element.className = classes.join(' ');\n}\n\nexports.add = function (element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    oldAdd(element, className);\n  }\n};\n\nexports.remove = function (element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    oldRemove(element, className);\n  }\n};\n\nexports.list = function (element) {\n  if (element.classList) {\n    return Array.prototype.slice.apply(element.classList);\n  } else {\n    return element.className.split(' ');\n  }\n};\n","'use strict';\n\nvar DOM = {};\n\nDOM.e = function (tagName, className) {\n  var element = document.createElement(tagName);\n  element.className = className;\n  return element;\n};\n\nDOM.appendTo = function (child, parent) {\n  parent.appendChild(child);\n  return child;\n};\n\nfunction cssGet(element, styleName) {\n  return window.getComputedStyle(element)[styleName];\n}\n\nfunction cssSet(element, styleName, styleValue) {\n  if (typeof styleValue === 'number') {\n    styleValue = styleValue.toString() + 'px';\n  }\n  element.style[styleName] = styleValue;\n  return element;\n}\n\nfunction cssMultiSet(element, obj) {\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'number') {\n      val = val.toString() + 'px';\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n\nDOM.css = function (element, styleNameOrObject, styleValue) {\n  if (typeof styleNameOrObject === 'object') {\n    // multiple set with object\n    return cssMultiSet(element, styleNameOrObject);\n  } else {\n    if (typeof styleValue === 'undefined') {\n      return cssGet(element, styleNameOrObject);\n    } else {\n      return cssSet(element, styleNameOrObject, styleValue);\n    }\n  }\n};\n\nDOM.matches = function (element, query) {\n  if (typeof element.matches !== 'undefined') {\n    return element.matches(query);\n  } else {\n    if (typeof element.matchesSelector !== 'undefined') {\n      return element.matchesSelector(query);\n    } else if (typeof element.webkitMatchesSelector !== 'undefined') {\n      return element.webkitMatchesSelector(query);\n    } else if (typeof element.mozMatchesSelector !== 'undefined') {\n      return element.mozMatchesSelector(query);\n    } else if (typeof element.msMatchesSelector !== 'undefined') {\n      return element.msMatchesSelector(query);\n    }\n  }\n};\n\nDOM.remove = function (element) {\n  if (typeof element.remove !== 'undefined') {\n    element.remove();\n  } else {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n};\n\nDOM.queryChildren = function (element, selector) {\n  return Array.prototype.filter.call(element.childNodes, function (child) {\n    return DOM.matches(child, selector);\n  });\n};\n\nmodule.exports = DOM;\n","'use strict';\n\nvar cls = require('./class');\nvar dom = require('./dom');\n\nvar toInt = exports.toInt = function (x) {\n  return parseInt(x, 10) || 0;\n};\n\nvar clone = exports.clone = function (obj) {\n  if (!obj) {\n    return null;\n  } else if (Array.isArray(obj)) {\n    return obj.map(clone);\n  } else if (typeof obj === 'object') {\n    var result = {};\n    for (var key in obj) {\n      result[key] = clone(obj[key]);\n    }\n    return result;\n  } else {\n    return obj;\n  }\n};\n\nexports.extend = function (original, source) {\n  var result = clone(original);\n  for (var key in source) {\n    result[key] = clone(source[key]);\n  }\n  return result;\n};\n\nexports.isEditable = function (el) {\n  return dom.matches(el, \"input,[contenteditable]\") ||\n         dom.matches(el, \"select,[contenteditable]\") ||\n         dom.matches(el, \"textarea,[contenteditable]\") ||\n         dom.matches(el, \"button,[contenteditable]\");\n};\n\nexports.removePsClasses = function (element) {\n  var clsList = cls.list(element);\n  for (var i = 0; i < clsList.length; i++) {\n    var className = clsList[i];\n    if (className.indexOf('ps-') === 0) {\n      cls.remove(element, className);\n    }\n  }\n};\n\nexports.outerWidth = function (element) {\n  return toInt(dom.css(element, 'width')) +\n         toInt(dom.css(element, 'paddingLeft')) +\n         toInt(dom.css(element, 'paddingRight')) +\n         toInt(dom.css(element, 'borderLeftWidth')) +\n         toInt(dom.css(element, 'borderRightWidth'));\n};\n\nfunction toggleScrolling(handler) {\n  return function (element, axis) {\n    handler(element, 'ps--in-scrolling');\n    if (typeof axis !== 'undefined') {\n      handler(element, 'ps--' + axis);\n    } else {\n      handler(element, 'ps--x');\n      handler(element, 'ps--y');\n    }\n  };\n}\n\nexports.startScrolling = toggleScrolling(cls.add);\n\nexports.stopScrolling = toggleScrolling(cls.remove);\n\nexports.env = {\n  isWebKit: typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style,\n  supportsTouch: typeof window !== 'undefined' && (('ontouchstart' in window) || window.DocumentTouch && document instanceof window.DocumentTouch),\n  supportsIePointer: typeof window !== 'undefined' && window.navigator.msMaxTouchPoints !== null\n};\n","'use strict';\n\nmodule.exports = {\n  handlers: ['click-rail', 'drag-scrollbar', 'keyboard', 'wheel', 'touch'],\n  maxScrollbarLength: null,\n  minScrollbarLength: null,\n  scrollXMarginOffset: 0,\n  scrollYMarginOffset: 0,\n  suppressScrollX: false,\n  suppressScrollY: false,\n  swipePropagation: true,\n  swipeEasing: true,\n  useBothWheelAxes: false,\n  wheelPropagation: false,\n  wheelSpeed: 1,\n  theme: 'default'\n};\n","'use strict';\n\nvar EventElement = function (element) {\n  this.element = element;\n  this.events = {};\n};\n\nEventElement.prototype.bind = function (eventName, handler) {\n  if (typeof this.events[eventName] === 'undefined') {\n    this.events[eventName] = [];\n  }\n  this.events[eventName].push(handler);\n  this.element.addEventListener(eventName, handler, false);\n};\n\nEventElement.prototype.unbind = function (eventName, handler) {\n  var isHandlerProvided = (typeof handler !== 'undefined');\n  this.events[eventName] = this.events[eventName].filter(function (hdlr) {\n    if (isHandlerProvided && hdlr !== handler) {\n      return true;\n    }\n    this.element.removeEventListener(eventName, hdlr, false);\n    return false;\n  }, this);\n};\n\nEventElement.prototype.unbindAll = function () {\n  for (var name in this.events) {\n    this.unbind(name);\n  }\n};\n\nvar EventManager = function () {\n  this.eventElements = [];\n};\n\nEventManager.prototype.eventElement = function (element) {\n  var ee = this.eventElements.filter(function (eventElement) {\n    return eventElement.element === element;\n  })[0];\n  if (typeof ee === 'undefined') {\n    ee = new EventElement(element);\n    this.eventElements.push(ee);\n  }\n  return ee;\n};\n\nEventManager.prototype.bind = function (element, eventName, handler) {\n  this.eventElement(element).bind(eventName, handler);\n};\n\nEventManager.prototype.unbind = function (element, eventName, handler) {\n  this.eventElement(element).unbind(eventName, handler);\n};\n\nEventManager.prototype.unbindAll = function () {\n  for (var i = 0; i < this.eventElements.length; i++) {\n    this.eventElements[i].unbindAll();\n  }\n};\n\nEventManager.prototype.once = function (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  var onceHandler = function (e) {\n    ee.unbind(eventName, onceHandler);\n    handler(e);\n  };\n  ee.bind(eventName, onceHandler);\n};\n\nmodule.exports = EventManager;\n","'use strict';\n\nmodule.exports = (function () {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n               .toString(16)\n               .substring(1);\n  }\n  return function () {\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n           s4() + '-' + s4() + s4() + s4();\n  };\n})();\n","'use strict';\n\nvar _ = require('../lib/helper');\nvar cls = require('../lib/class');\nvar defaultSettings = require('./default-setting');\nvar dom = require('../lib/dom');\nvar EventManager = require('../lib/event-manager');\nvar guid = require('../lib/guid');\n\nvar instances = {};\n\nfunction Instance(element) {\n  var i = this;\n\n  i.settings = _.clone(defaultSettings);\n  i.containerWidth = null;\n  i.containerHeight = null;\n  i.contentWidth = null;\n  i.contentHeight = null;\n\n  i.isRtl = dom.css(element, 'direction') === \"rtl\";\n  i.isNegativeScroll = (function () {\n    var originalScrollLeft = element.scrollLeft;\n    var result = null;\n    element.scrollLeft = -1;\n    result = element.scrollLeft < 0;\n    element.scrollLeft = originalScrollLeft;\n    return result;\n  })();\n  i.negativeScrollAdjustment = i.isNegativeScroll ? element.scrollWidth - element.clientWidth : 0;\n  i.event = new EventManager();\n  i.ownerDocument = element.ownerDocument || document;\n\n  function focus() {\n    cls.add(element, 'ps--focus');\n  }\n\n  function blur() {\n    cls.remove(element, 'ps--focus');\n  }\n\n  i.scrollbarXRail = dom.appendTo(dom.e('div', 'ps__scrollbar-x-rail'), element);\n  i.scrollbarX = dom.appendTo(dom.e('div', 'ps__scrollbar-x'), i.scrollbarXRail);\n  i.scrollbarX.setAttribute('tabindex', 0);\n  i.event.bind(i.scrollbarX, 'focus', focus);\n  i.event.bind(i.scrollbarX, 'blur', blur);\n  i.scrollbarXActive = null;\n  i.scrollbarXWidth = null;\n  i.scrollbarXLeft = null;\n  i.scrollbarXBottom = _.toInt(dom.css(i.scrollbarXRail, 'bottom'));\n  i.isScrollbarXUsingBottom = i.scrollbarXBottom === i.scrollbarXBottom; // !isNaN\n  i.scrollbarXTop = i.isScrollbarXUsingBottom ? null : _.toInt(dom.css(i.scrollbarXRail, 'top'));\n  i.railBorderXWidth = _.toInt(dom.css(i.scrollbarXRail, 'borderLeftWidth')) + _.toInt(dom.css(i.scrollbarXRail, 'borderRightWidth'));\n  // Set rail to display:block to calculate margins\n  dom.css(i.scrollbarXRail, 'display', 'block');\n  i.railXMarginWidth = _.toInt(dom.css(i.scrollbarXRail, 'marginLeft')) + _.toInt(dom.css(i.scrollbarXRail, 'marginRight'));\n  dom.css(i.scrollbarXRail, 'display', '');\n  i.railXWidth = null;\n  i.railXRatio = null;\n\n  i.scrollbarYRail = dom.appendTo(dom.e('div', 'ps__scrollbar-y-rail'), element);\n  i.scrollbarY = dom.appendTo(dom.e('div', 'ps__scrollbar-y'), i.scrollbarYRail);\n  i.scrollbarY.setAttribute('tabindex', 0);\n  i.event.bind(i.scrollbarY, 'focus', focus);\n  i.event.bind(i.scrollbarY, 'blur', blur);\n  i.scrollbarYActive = null;\n  i.scrollbarYHeight = null;\n  i.scrollbarYTop = null;\n  i.scrollbarYRight = _.toInt(dom.css(i.scrollbarYRail, 'right'));\n  i.isScrollbarYUsingRight = i.scrollbarYRight === i.scrollbarYRight; // !isNaN\n  i.scrollbarYLeft = i.isScrollbarYUsingRight ? null : _.toInt(dom.css(i.scrollbarYRail, 'left'));\n  i.scrollbarYOuterWidth = i.isRtl ? _.outerWidth(i.scrollbarY) : null;\n  i.railBorderYWidth = _.toInt(dom.css(i.scrollbarYRail, 'borderTopWidth')) + _.toInt(dom.css(i.scrollbarYRail, 'borderBottomWidth'));\n  dom.css(i.scrollbarYRail, 'display', 'block');\n  i.railYMarginHeight = _.toInt(dom.css(i.scrollbarYRail, 'marginTop')) + _.toInt(dom.css(i.scrollbarYRail, 'marginBottom'));\n  dom.css(i.scrollbarYRail, 'display', '');\n  i.railYHeight = null;\n  i.railYRatio = null;\n}\n\nfunction getId(element) {\n  return element.getAttribute('data-ps-id');\n}\n\nfunction setId(element, id) {\n  element.setAttribute('data-ps-id', id);\n}\n\nfunction removeId(element) {\n  element.removeAttribute('data-ps-id');\n}\n\nexports.add = function (element) {\n  var newId = guid();\n  setId(element, newId);\n  instances[newId] = new Instance(element);\n  return instances[newId];\n};\n\nexports.remove = function (element) {\n  delete instances[getId(element)];\n  removeId(element);\n};\n\nexports.get = function (element) {\n  return instances[getId(element)];\n};\n","'use strict';\n\nvar _ = require('../lib/helper');\nvar dom = require('../lib/dom');\nvar instances = require('./instances');\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n\n  if (!i) {\n    return;\n  }\n\n  i.event.unbindAll();\n  dom.remove(i.scrollbarX);\n  dom.remove(i.scrollbarY);\n  dom.remove(i.scrollbarXRail);\n  dom.remove(i.scrollbarYRail);\n  _.removePsClasses(element);\n\n  instances.remove(element);\n};\n","'use strict';\n\nvar instances = require('./instances');\n\nvar createDOMEvent = function (name) {\n  var event = document.createEvent(\"Event\");\n  event.initEvent(name, true, true);\n  return event;\n};\n\nmodule.exports = function (element, axis, value) {\n  if (typeof element === 'undefined') {\n    throw 'You must provide an element to the update-scroll function';\n  }\n\n  if (typeof axis === 'undefined') {\n    throw 'You must provide an axis to the update-scroll function';\n  }\n\n  if (typeof value === 'undefined') {\n    throw 'You must provide a value to the update-scroll function';\n  }\n\n  if (axis === 'top' && value <= 0) {\n    element.scrollTop = value = 0; // don't allow negative scroll\n    element.dispatchEvent(createDOMEvent('ps-y-reach-start'));\n  }\n\n  if (axis === 'left' && value <= 0) {\n    element.scrollLeft = value = 0; // don't allow negative scroll\n    element.dispatchEvent(createDOMEvent('ps-x-reach-start'));\n  }\n\n  var i = instances.get(element);\n\n  if (axis === 'top' && value >= i.contentHeight - i.containerHeight) {\n    // don't allow scroll past container\n    value = i.contentHeight - i.containerHeight;\n    if (value - element.scrollTop <= 1) {\n      // mitigates rounding errors on non-subpixel scroll values\n      value = element.scrollTop;\n    } else {\n      element.scrollTop = value;\n    }\n    element.dispatchEvent(createDOMEvent('ps-y-reach-end'));\n  }\n\n  if (axis === 'left' && value >= i.contentWidth - i.containerWidth) {\n    // don't allow scroll past container\n    value = i.contentWidth - i.containerWidth;\n    if (value - element.scrollLeft <= 1) {\n      // mitigates rounding errors on non-subpixel scroll values\n      value = element.scrollLeft;\n    } else {\n      element.scrollLeft = value;\n    }\n    element.dispatchEvent(createDOMEvent('ps-x-reach-end'));\n  }\n\n  if (i.lastTop === undefined) {\n    i.lastTop = element.scrollTop;\n  }\n\n  if (i.lastLeft === undefined) {\n    i.lastLeft = element.scrollLeft;\n  }\n\n  if (axis === 'top' && value < i.lastTop) {\n    element.dispatchEvent(createDOMEvent('ps-scroll-up'));\n  }\n\n  if (axis === 'top' && value > i.lastTop) {\n    element.dispatchEvent(createDOMEvent('ps-scroll-down'));\n  }\n\n  if (axis === 'left' && value < i.lastLeft) {\n    element.dispatchEvent(createDOMEvent('ps-scroll-left'));\n  }\n\n  if (axis === 'left' && value > i.lastLeft) {\n    element.dispatchEvent(createDOMEvent('ps-scroll-right'));\n  }\n\n  if (axis === 'top' && value !== i.lastTop) {\n    element.scrollTop = i.lastTop = value;\n    element.dispatchEvent(createDOMEvent('ps-scroll-y'));\n  }\n\n  if (axis === 'left' && value !== i.lastLeft) {\n    element.scrollLeft = i.lastLeft = value;\n    element.dispatchEvent(createDOMEvent('ps-scroll-x'));\n  }\n\n};\n","'use strict';\n\nvar _ = require('../lib/helper');\nvar cls = require('../lib/class');\nvar dom = require('../lib/dom');\nvar instances = require('./instances');\nvar updateScroll = require('./update-scroll');\n\nfunction getThumbSize(i, thumbSize) {\n  if (i.settings.minScrollbarLength) {\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\n  }\n  if (i.settings.maxScrollbarLength) {\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\n  }\n  return thumbSize;\n}\n\nfunction updateCss(element, i) {\n  var xRailOffset = {width: i.railXWidth};\n  if (i.isRtl) {\n    xRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth - i.contentWidth;\n  } else {\n    xRailOffset.left = element.scrollLeft;\n  }\n  if (i.isScrollbarXUsingBottom) {\n    xRailOffset.bottom = i.scrollbarXBottom - element.scrollTop;\n  } else {\n    xRailOffset.top = i.scrollbarXTop + element.scrollTop;\n  }\n  dom.css(i.scrollbarXRail, xRailOffset);\n\n  var yRailOffset = {top: element.scrollTop, height: i.railYHeight};\n  if (i.isScrollbarYUsingRight) {\n    if (i.isRtl) {\n      yRailOffset.right = i.contentWidth - (i.negativeScrollAdjustment + element.scrollLeft) - i.scrollbarYRight - i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\n    }\n  } else {\n    if (i.isRtl) {\n      yRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth * 2 - i.contentWidth - i.scrollbarYLeft - i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\n    }\n  }\n  dom.css(i.scrollbarYRail, yRailOffset);\n\n  dom.css(i.scrollbarX, {left: i.scrollbarXLeft, width: i.scrollbarXWidth - i.railBorderXWidth});\n  dom.css(i.scrollbarY, {top: i.scrollbarYTop, height: i.scrollbarYHeight - i.railBorderYWidth});\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n\n  i.containerWidth = element.clientWidth;\n  i.containerHeight = element.clientHeight;\n  i.contentWidth = element.scrollWidth;\n  i.contentHeight = element.scrollHeight;\n\n  var existingRails;\n  if (!element.contains(i.scrollbarXRail)) {\n    existingRails = dom.queryChildren(element, '.ps__scrollbar-x-rail');\n    if (existingRails.length > 0) {\n      existingRails.forEach(function (rail) {\n        dom.remove(rail);\n      });\n    }\n    dom.appendTo(i.scrollbarXRail, element);\n  }\n  if (!element.contains(i.scrollbarYRail)) {\n    existingRails = dom.queryChildren(element, '.ps__scrollbar-y-rail');\n    if (existingRails.length > 0) {\n      existingRails.forEach(function (rail) {\n        dom.remove(rail);\n      });\n    }\n    dom.appendTo(i.scrollbarYRail, element);\n  }\n\n  if (!i.settings.suppressScrollX && i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth) {\n    i.scrollbarXActive = true;\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\n    i.railXRatio = i.containerWidth / i.railXWidth;\n    i.scrollbarXWidth = getThumbSize(i, _.toInt(i.railXWidth * i.containerWidth / i.contentWidth));\n    i.scrollbarXLeft = _.toInt((i.negativeScrollAdjustment + element.scrollLeft) * (i.railXWidth - i.scrollbarXWidth) / (i.contentWidth - i.containerWidth));\n  } else {\n    i.scrollbarXActive = false;\n  }\n\n  if (!i.settings.suppressScrollY && i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight) {\n    i.scrollbarYActive = true;\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\n    i.railYRatio = i.containerHeight / i.railYHeight;\n    i.scrollbarYHeight = getThumbSize(i, _.toInt(i.railYHeight * i.containerHeight / i.contentHeight));\n    i.scrollbarYTop = _.toInt(element.scrollTop * (i.railYHeight - i.scrollbarYHeight) / (i.contentHeight - i.containerHeight));\n  } else {\n    i.scrollbarYActive = false;\n  }\n\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\n  }\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\n  }\n\n  updateCss(element, i);\n\n  if (i.scrollbarXActive) {\n    cls.add(element, 'ps--active-x');\n  } else {\n    cls.remove(element, 'ps--active-x');\n    i.scrollbarXWidth = 0;\n    i.scrollbarXLeft = 0;\n    updateScroll(element, 'left', 0);\n  }\n  if (i.scrollbarYActive) {\n    cls.add(element, 'ps--active-y');\n  } else {\n    cls.remove(element, 'ps--active-y');\n    i.scrollbarYHeight = 0;\n    i.scrollbarYTop = 0;\n    updateScroll(element, 'top', 0);\n  }\n};\n","'use strict';\n\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindClickRailHandler(element, i) {\n  function pageOffset(el) {\n    return el.getBoundingClientRect();\n  }\n  var stopPropagation = function (e) { e.stopPropagation(); };\n\n  i.event.bind(i.scrollbarY, 'click', stopPropagation);\n  i.event.bind(i.scrollbarYRail, 'click', function (e) {\n    var positionTop = e.pageY - window.pageYOffset - pageOffset(i.scrollbarYRail).top;\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\n\n    updateScroll(element, 'top', element.scrollTop + direction * i.containerHeight);\n    updateGeometry(element);\n\n    e.stopPropagation();\n  });\n\n  i.event.bind(i.scrollbarX, 'click', stopPropagation);\n  i.event.bind(i.scrollbarXRail, 'click', function (e) {\n    var positionLeft = e.pageX - window.pageXOffset - pageOffset(i.scrollbarXRail).left;\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\n\n    updateScroll(element, 'left', element.scrollLeft + direction * i.containerWidth);\n    updateGeometry(element);\n\n    e.stopPropagation();\n  });\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindClickRailHandler(element, i);\n};\n","'use strict';\n\nvar _ = require('../../lib/helper');\nvar dom = require('../../lib/dom');\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindMouseScrollXHandler(element, i) {\n  var currentLeft = null;\n  var currentPageX = null;\n\n  function updateScrollLeft(deltaX) {\n    var newLeft = currentLeft + (deltaX * i.railXRatio);\n    var maxLeft = Math.max(0, i.scrollbarXRail.getBoundingClientRect().left) + (i.railXRatio * (i.railXWidth - i.scrollbarXWidth));\n\n    if (newLeft < 0) {\n      i.scrollbarXLeft = 0;\n    } else if (newLeft > maxLeft) {\n      i.scrollbarXLeft = maxLeft;\n    } else {\n      i.scrollbarXLeft = newLeft;\n    }\n\n    var scrollLeft = _.toInt(i.scrollbarXLeft * (i.contentWidth - i.containerWidth) / (i.containerWidth - (i.railXRatio * i.scrollbarXWidth))) - i.negativeScrollAdjustment;\n    updateScroll(element, 'left', scrollLeft);\n  }\n\n  var mouseMoveHandler = function (e) {\n    updateScrollLeft(e.pageX - currentPageX);\n    updateGeometry(element);\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  var mouseUpHandler = function () {\n    _.stopScrolling(element, 'x');\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  };\n\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) {\n    currentPageX = e.pageX;\n    currentLeft = _.toInt(dom.css(i.scrollbarX, 'left')) * i.railXRatio;\n    _.startScrolling(element, 'x');\n\n    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n\n    e.stopPropagation();\n    e.preventDefault();\n  });\n}\n\nfunction bindMouseScrollYHandler(element, i) {\n  var currentTop = null;\n  var currentPageY = null;\n\n  function updateScrollTop(deltaY) {\n    var newTop = currentTop + (deltaY * i.railYRatio);\n    var maxTop = Math.max(0, i.scrollbarYRail.getBoundingClientRect().top) + (i.railYRatio * (i.railYHeight - i.scrollbarYHeight));\n\n    if (newTop < 0) {\n      i.scrollbarYTop = 0;\n    } else if (newTop > maxTop) {\n      i.scrollbarYTop = maxTop;\n    } else {\n      i.scrollbarYTop = newTop;\n    }\n\n    var scrollTop = _.toInt(i.scrollbarYTop * (i.contentHeight - i.containerHeight) / (i.containerHeight - (i.railYRatio * i.scrollbarYHeight)));\n    updateScroll(element, 'top', scrollTop);\n  }\n\n  var mouseMoveHandler = function (e) {\n    updateScrollTop(e.pageY - currentPageY);\n    updateGeometry(element);\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  var mouseUpHandler = function () {\n    _.stopScrolling(element, 'y');\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  };\n\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) {\n    currentPageY = e.pageY;\n    currentTop = _.toInt(dom.css(i.scrollbarY, 'top')) * i.railYRatio;\n    _.startScrolling(element, 'y');\n\n    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n\n    e.stopPropagation();\n    e.preventDefault();\n  });\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindMouseScrollXHandler(element, i);\n  bindMouseScrollYHandler(element, i);\n};\n","'use strict';\n\nvar _ = require('../../lib/helper');\nvar dom = require('../../lib/dom');\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindKeyboardHandler(element, i) {\n  var hovered = false;\n  i.event.bind(element, 'mouseenter', function () {\n    hovered = true;\n  });\n  i.event.bind(element, 'mouseleave', function () {\n    hovered = false;\n  });\n\n  var shouldPrevent = false;\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = element.scrollTop;\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if ((scrollTop === 0 && deltaY > 0) || (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if ((scrollLeft === 0 && deltaX < 0) || (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\n    if ((e.isDefaultPrevented && e.isDefaultPrevented()) || e.defaultPrevented) {\n      return;\n    }\n\n    var focused = dom.matches(i.scrollbarX, ':focus') ||\n                  dom.matches(i.scrollbarY, ':focus');\n\n    if (!hovered && !focused) {\n      return;\n    }\n\n    var activeElement = document.activeElement ? document.activeElement : i.ownerDocument.activeElement;\n    if (activeElement) {\n      if (activeElement.tagName === 'IFRAME') {\n        activeElement = activeElement.contentDocument.activeElement;\n      } else {\n        // go deeper if element is a webcomponent\n        while (activeElement.shadowRoot) {\n          activeElement = activeElement.shadowRoot.activeElement;\n        }\n      }\n      if (_.isEditable(activeElement)) {\n        return;\n      }\n    }\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    switch (e.which) {\n    case 37: // left\n      if (e.metaKey) {\n        deltaX = -i.contentWidth;\n      } else if (e.altKey) {\n        deltaX = -i.containerWidth;\n      } else {\n        deltaX = -30;\n      }\n      break;\n    case 38: // up\n      if (e.metaKey) {\n        deltaY = i.contentHeight;\n      } else if (e.altKey) {\n        deltaY = i.containerHeight;\n      } else {\n        deltaY = 30;\n      }\n      break;\n    case 39: // right\n      if (e.metaKey) {\n        deltaX = i.contentWidth;\n      } else if (e.altKey) {\n        deltaX = i.containerWidth;\n      } else {\n        deltaX = 30;\n      }\n      break;\n    case 40: // down\n      if (e.metaKey) {\n        deltaY = -i.contentHeight;\n      } else if (e.altKey) {\n        deltaY = -i.containerHeight;\n      } else {\n        deltaY = -30;\n      }\n      break;\n    case 33: // page up\n      deltaY = 90;\n      break;\n    case 32: // space bar\n      if (e.shiftKey) {\n        deltaY = 90;\n      } else {\n        deltaY = -90;\n      }\n      break;\n    case 34: // page down\n      deltaY = -90;\n      break;\n    case 35: // end\n      if (e.ctrlKey) {\n        deltaY = -i.contentHeight;\n      } else {\n        deltaY = -i.containerHeight;\n      }\n      break;\n    case 36: // home\n      if (e.ctrlKey) {\n        deltaY = element.scrollTop;\n      } else {\n        deltaY = i.containerHeight;\n      }\n      break;\n    default:\n      return;\n    }\n\n    updateScroll(element, 'top', element.scrollTop - deltaY);\n    updateScroll(element, 'left', element.scrollLeft + deltaX);\n    updateGeometry(element);\n\n    shouldPrevent = shouldPreventDefault(deltaX, deltaY);\n    if (shouldPrevent) {\n      e.preventDefault();\n    }\n  });\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindKeyboardHandler(element, i);\n};\n","'use strict';\n\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindMouseWheelHandler(element, i) {\n  var shouldPrevent = false;\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = element.scrollTop;\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if ((scrollTop === 0 && deltaY > 0) || (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if ((scrollLeft === 0 && deltaX < 0) || (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  function getDeltaFromEvent(e) {\n    var deltaX = e.deltaX;\n    var deltaY = -1 * e.deltaY;\n\n    if (typeof deltaX === \"undefined\" || typeof deltaY === \"undefined\") {\n      // OS X Safari\n      deltaX = -1 * e.wheelDeltaX / 6;\n      deltaY = e.wheelDeltaY / 6;\n    }\n\n    if (e.deltaMode && e.deltaMode === 1) {\n      // Firefox in deltaMode 1: Line scrolling\n      deltaX *= 10;\n      deltaY *= 10;\n    }\n\n    if (deltaX !== deltaX && deltaY !== deltaY/* NaN checks */) {\n      // IE in some mouse drivers\n      deltaX = 0;\n      deltaY = e.wheelDelta;\n    }\n\n    if (e.shiftKey) {\n      // reverse axis with shift key\n      return [-deltaY, -deltaX];\n    }\n    return [deltaX, deltaY];\n  }\n\n  function shouldBeConsumedByChild(deltaX, deltaY) {\n    var child = element.querySelector('textarea:hover, select[multiple]:hover, .ps-child:hover');\n    if (child) {\n      var style = window.getComputedStyle(child);\n      var overflow = [\n        style.overflow,\n        style.overflowX,\n        style.overflowY\n      ].join('');\n\n      if (!overflow.match(/(scroll|auto)/)) {\n        // if not scrollable\n        return false;\n      }\n\n      var maxScrollTop = child.scrollHeight - child.clientHeight;\n      if (maxScrollTop > 0) {\n        if (!(child.scrollTop === 0 && deltaY > 0) && !(child.scrollTop === maxScrollTop && deltaY < 0)) {\n          return true;\n        }\n      }\n      var maxScrollLeft = child.scrollLeft - child.clientWidth;\n      if (maxScrollLeft > 0) {\n        if (!(child.scrollLeft === 0 && deltaX < 0) && !(child.scrollLeft === maxScrollLeft && deltaX > 0)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  function mousewheelHandler(e) {\n    var delta = getDeltaFromEvent(e);\n\n    var deltaX = delta[0];\n    var deltaY = delta[1];\n\n    if (shouldBeConsumedByChild(deltaX, deltaY)) {\n      return;\n    }\n\n    shouldPrevent = false;\n    if (!i.settings.useBothWheelAxes) {\n      // deltaX will only be used for horizontal scrolling and deltaY will\n      // only be used for vertical scrolling - this is the default\n      updateScroll(element, 'top', element.scrollTop - (deltaY * i.settings.wheelSpeed));\n      updateScroll(element, 'left', element.scrollLeft + (deltaX * i.settings.wheelSpeed));\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\n      // only vertical scrollbar is active and useBothWheelAxes option is\n      // active, so let's scroll vertical bar using both mouse wheel axes\n      if (deltaY) {\n        updateScroll(element, 'top', element.scrollTop - (deltaY * i.settings.wheelSpeed));\n      } else {\n        updateScroll(element, 'top', element.scrollTop + (deltaX * i.settings.wheelSpeed));\n      }\n      shouldPrevent = true;\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\n      // useBothWheelAxes and only horizontal bar is active, so use both\n      // wheel axes for horizontal bar\n      if (deltaX) {\n        updateScroll(element, 'left', element.scrollLeft + (deltaX * i.settings.wheelSpeed));\n      } else {\n        updateScroll(element, 'left', element.scrollLeft - (deltaY * i.settings.wheelSpeed));\n      }\n      shouldPrevent = true;\n    }\n\n    updateGeometry(element);\n\n    shouldPrevent = (shouldPrevent || shouldPreventDefault(deltaX, deltaY));\n    if (shouldPrevent) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  if (typeof window.onwheel !== \"undefined\") {\n    i.event.bind(element, 'wheel', mousewheelHandler);\n  } else if (typeof window.onmousewheel !== \"undefined\") {\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\n  }\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindMouseWheelHandler(element, i);\n};\n","'use strict';\n\nvar _ = require('../../lib/helper');\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindTouchHandler(element, i, supportsTouch, supportsIePointer) {\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = element.scrollTop;\n    var scrollLeft = element.scrollLeft;\n    var magnitudeX = Math.abs(deltaX);\n    var magnitudeY = Math.abs(deltaY);\n\n    if (magnitudeY > magnitudeX) {\n      // user is perhaps trying to swipe up/down the page\n\n      if (((deltaY < 0) && (scrollTop === i.contentHeight - i.containerHeight)) ||\n          ((deltaY > 0) && (scrollTop === 0))) {\n        return !i.settings.swipePropagation;\n      }\n    } else if (magnitudeX > magnitudeY) {\n      // user is perhaps trying to swipe left/right across the page\n\n      if (((deltaX < 0) && (scrollLeft === i.contentWidth - i.containerWidth)) ||\n          ((deltaX > 0) && (scrollLeft === 0))) {\n        return !i.settings.swipePropagation;\n      }\n    }\n\n    return true;\n  }\n\n  function applyTouchMove(differenceX, differenceY) {\n    updateScroll(element, 'top', element.scrollTop - differenceY);\n    updateScroll(element, 'left', element.scrollLeft - differenceX);\n\n    updateGeometry(element);\n  }\n\n  var startOffset = {};\n  var startTime = 0;\n  var speed = {};\n  var easingLoop = null;\n  var inGlobalTouch = false;\n  var inLocalTouch = false;\n\n  function globalTouchStart() {\n    inGlobalTouch = true;\n  }\n  function globalTouchEnd() {\n    inGlobalTouch = false;\n  }\n\n  function getTouch(e) {\n    if (e.targetTouches) {\n      return e.targetTouches[0];\n    } else {\n      // Maybe IE pointer\n      return e;\n    }\n  }\n  function shouldHandle(e) {\n    if (e.targetTouches && e.targetTouches.length === 1) {\n      return true;\n    }\n    if (e.pointerType && e.pointerType !== 'mouse' && e.pointerType !== e.MSPOINTER_TYPE_MOUSE) {\n      return true;\n    }\n    return false;\n  }\n  function touchStart(e) {\n    if (shouldHandle(e)) {\n      inLocalTouch = true;\n\n      var touch = getTouch(e);\n\n      startOffset.pageX = touch.pageX;\n      startOffset.pageY = touch.pageY;\n\n      startTime = (new Date()).getTime();\n\n      if (easingLoop !== null) {\n        clearInterval(easingLoop);\n      }\n\n      e.stopPropagation();\n    }\n  }\n  function touchMove(e) {\n    if (!inLocalTouch && i.settings.swipePropagation) {\n      touchStart(e);\n    }\n    if (!inGlobalTouch && inLocalTouch && shouldHandle(e)) {\n      var touch = getTouch(e);\n\n      var currentOffset = {pageX: touch.pageX, pageY: touch.pageY};\n\n      var differenceX = currentOffset.pageX - startOffset.pageX;\n      var differenceY = currentOffset.pageY - startOffset.pageY;\n\n      applyTouchMove(differenceX, differenceY);\n      startOffset = currentOffset;\n\n      var currentTime = (new Date()).getTime();\n\n      var timeGap = currentTime - startTime;\n      if (timeGap > 0) {\n        speed.x = differenceX / timeGap;\n        speed.y = differenceY / timeGap;\n        startTime = currentTime;\n      }\n\n      if (shouldPreventDefault(differenceX, differenceY)) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  }\n  function touchEnd() {\n    if (!inGlobalTouch && inLocalTouch) {\n      inLocalTouch = false;\n\n      if (i.settings.swipeEasing) {\n        clearInterval(easingLoop);\n        easingLoop = setInterval(function () {\n          if (!instances.get(element)) {\n            clearInterval(easingLoop);\n            return;\n          }\n\n          if (!speed.x && !speed.y) {\n            clearInterval(easingLoop);\n            return;\n          }\n\n          if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\n            clearInterval(easingLoop);\n            return;\n          }\n\n          applyTouchMove(speed.x * 30, speed.y * 30);\n\n          speed.x *= 0.8;\n          speed.y *= 0.8;\n        }, 10);\n      }\n    }\n  }\n\n  if (supportsTouch) {\n    i.event.bind(window, 'touchstart', globalTouchStart);\n    i.event.bind(window, 'touchend', globalTouchEnd);\n    i.event.bind(element, 'touchstart', touchStart);\n    i.event.bind(element, 'touchmove', touchMove);\n    i.event.bind(element, 'touchend', touchEnd);\n  } else if (supportsIePointer) {\n    if (window.PointerEvent) {\n      i.event.bind(window, 'pointerdown', globalTouchStart);\n      i.event.bind(window, 'pointerup', globalTouchEnd);\n      i.event.bind(element, 'pointerdown', touchStart);\n      i.event.bind(element, 'pointermove', touchMove);\n      i.event.bind(element, 'pointerup', touchEnd);\n    } else if (window.MSPointerEvent) {\n      i.event.bind(window, 'MSPointerDown', globalTouchStart);\n      i.event.bind(window, 'MSPointerUp', globalTouchEnd);\n      i.event.bind(element, 'MSPointerDown', touchStart);\n      i.event.bind(element, 'MSPointerMove', touchMove);\n      i.event.bind(element, 'MSPointerUp', touchEnd);\n    }\n  }\n}\n\nmodule.exports = function (element) {\n  if (!_.env.supportsTouch && !_.env.supportsIePointer) {\n    return;\n  }\n\n  var i = instances.get(element);\n  bindTouchHandler(element, i, _.env.supportsTouch, _.env.supportsIePointer);\n};\n","'use strict';\n\nvar _ = require('../../lib/helper');\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\nvar updateScroll = require('../update-scroll');\n\nfunction bindSelectionHandler(element, i) {\n  function getRangeNode() {\n    var selection = window.getSelection ? window.getSelection() :\n                    document.getSelection ? document.getSelection() : '';\n    if (selection.toString().length === 0) {\n      return null;\n    } else {\n      return selection.getRangeAt(0).commonAncestorContainer;\n    }\n  }\n\n  var scrollingLoop = null;\n  var scrollDiff = {top: 0, left: 0};\n  function startScrolling() {\n    if (!scrollingLoop) {\n      scrollingLoop = setInterval(function () {\n        if (!instances.get(element)) {\n          clearInterval(scrollingLoop);\n          return;\n        }\n\n        updateScroll(element, 'top', element.scrollTop + scrollDiff.top);\n        updateScroll(element, 'left', element.scrollLeft + scrollDiff.left);\n        updateGeometry(element);\n      }, 50); // every .1 sec\n    }\n  }\n  function stopScrolling() {\n    if (scrollingLoop) {\n      clearInterval(scrollingLoop);\n      scrollingLoop = null;\n    }\n    _.stopScrolling(element);\n  }\n\n  var isSelected = false;\n  i.event.bind(i.ownerDocument, 'selectionchange', function () {\n    if (element.contains(getRangeNode())) {\n      isSelected = true;\n    } else {\n      isSelected = false;\n      stopScrolling();\n    }\n  });\n  i.event.bind(window, 'mouseup', function () {\n    if (isSelected) {\n      isSelected = false;\n      stopScrolling();\n    }\n  });\n  i.event.bind(window, 'keyup', function () {\n    if (isSelected) {\n      isSelected = false;\n      stopScrolling();\n    }\n  });\n\n  i.event.bind(window, 'mousemove', function (e) {\n    if (isSelected) {\n      var mousePosition = {x: e.pageX, y: e.pageY};\n      var containerGeometry = {\n        left: element.offsetLeft,\n        right: element.offsetLeft + element.offsetWidth,\n        top: element.offsetTop,\n        bottom: element.offsetTop + element.offsetHeight\n      };\n\n      if (mousePosition.x < containerGeometry.left + 3) {\n        scrollDiff.left = -5;\n        _.startScrolling(element, 'x');\n      } else if (mousePosition.x > containerGeometry.right - 3) {\n        scrollDiff.left = 5;\n        _.startScrolling(element, 'x');\n      } else {\n        scrollDiff.left = 0;\n      }\n\n      if (mousePosition.y < containerGeometry.top + 3) {\n        if (containerGeometry.top + 3 - mousePosition.y < 5) {\n          scrollDiff.top = -5;\n        } else {\n          scrollDiff.top = -20;\n        }\n        _.startScrolling(element, 'y');\n      } else if (mousePosition.y > containerGeometry.bottom - 3) {\n        if (mousePosition.y - containerGeometry.bottom + 3 < 5) {\n          scrollDiff.top = 5;\n        } else {\n          scrollDiff.top = 20;\n        }\n        _.startScrolling(element, 'y');\n      } else {\n        scrollDiff.top = 0;\n      }\n\n      if (scrollDiff.top === 0 && scrollDiff.left === 0) {\n        stopScrolling();\n      } else {\n        startScrolling();\n      }\n    }\n  });\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindSelectionHandler(element, i);\n};\n","'use strict';\n\nvar instances = require('../instances');\nvar updateGeometry = require('../update-geometry');\n\nfunction bindNativeScrollHandler(element, i) {\n  i.event.bind(element, 'scroll', function () {\n    updateGeometry(element);\n  });\n}\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n  bindNativeScrollHandler(element, i);\n};\n","'use strict';\n\nvar _ = require('../lib/helper');\nvar cls = require('../lib/class');\nvar instances = require('./instances');\nvar updateGeometry = require('./update-geometry');\n\n// Handlers\nvar handlers = {\n  'click-rail': require('./handler/click-rail'),\n  'drag-scrollbar': require('./handler/drag-scrollbar'),\n  'keyboard': require('./handler/keyboard'),\n  'wheel': require('./handler/mouse-wheel'),\n  'touch': require('./handler/touch'),\n  'selection': require('./handler/selection')\n};\nvar nativeScrollHandler = require('./handler/native-scroll');\n\nmodule.exports = function (element, userSettings) {\n  userSettings = typeof userSettings === 'object' ? userSettings : {};\n\n  cls.add(element, 'ps');\n\n  // Create a plugin instance.\n  var i = instances.add(element);\n\n  i.settings = _.extend(i.settings, userSettings);\n  cls.add(element, 'ps--theme_' + i.settings.theme);\n\n  i.settings.handlers.forEach(function (handlerName) {\n    handlers[handlerName](element);\n  });\n\n  nativeScrollHandler(element);\n\n  updateGeometry(element);\n};\n","'use strict';\n\nvar _ = require('../lib/helper');\nvar dom = require('../lib/dom');\nvar instances = require('./instances');\nvar updateGeometry = require('./update-geometry');\nvar updateScroll = require('./update-scroll');\n\nmodule.exports = function (element) {\n  var i = instances.get(element);\n\n  if (!i) {\n    return;\n  }\n\n  // Recalcuate negative scrollLeft adjustment\n  i.negativeScrollAdjustment = i.isNegativeScroll ? element.scrollWidth - element.clientWidth : 0;\n\n  // Recalculate rail margins\n  dom.css(i.scrollbarXRail, 'display', 'block');\n  dom.css(i.scrollbarYRail, 'display', 'block');\n  i.railXMarginWidth = _.toInt(dom.css(i.scrollbarXRail, 'marginLeft')) + _.toInt(dom.css(i.scrollbarXRail, 'marginRight'));\n  i.railYMarginHeight = _.toInt(dom.css(i.scrollbarYRail, 'marginTop')) + _.toInt(dom.css(i.scrollbarYRail, 'marginBottom'));\n\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\n  dom.css(i.scrollbarXRail, 'display', 'none');\n  dom.css(i.scrollbarYRail, 'display', 'none');\n\n  updateGeometry(element);\n\n  // Update top/left scroll to trigger events\n  updateScroll(element, 'top', element.scrollTop);\n  updateScroll(element, 'left', element.scrollLeft);\n\n  dom.css(i.scrollbarXRail, 'display', '');\n  dom.css(i.scrollbarYRail, 'display', '');\n};\n","'use strict';\n\nvar destroy = require('./plugin/destroy');\nvar initialize = require('./plugin/initialize');\nvar update = require('./plugin/update');\n\nmodule.exports = {\n  initialize: initialize,\n  update: update,\n  destroy: destroy\n};\n","'use strict';\n\nmodule.exports = require('./src/js/main');\n","import Ps from 'perfect-scrollbar';\r\n\r\nvar container = document.querySelector('div.toc');\r\nPs.initialize(container, {\r\n    suppressScrollX: true\r\n});\r\n","// import 'babel-polyfill';\nimport './polyfills';\nimport './lang.js';\nimport './mobile.js';\nimport './search.js';\nimport './href.js';\nimport './toc.js';"],"names":["self","document","createElement","view","classListProp","protoProp","elemCtrProto","Element","objCtr","Object","strTrim","String","trim","replace","arrIndexOf","Array","indexOf","item","i","len","length","DOMEx","type","message","name","code","DOMException","checkTokenAndGetIndex","classList","token","test","call","ClassList","elem","trimmedClasses","getAttribute","classes","split","push","_updateClassName","setAttribute","toString","classListProto","classListGetter","Error","contains","add","tokens","arguments","l","updated","remove","index","splice","toggle","force","result","method","join","defineProperty","classListPropDesc","ex","number","enumerable","__defineGetter__","testElement","createMethod","original","DOMTokenList","prototype","_toggle","querySelector","selector","head","documentElement","firstChild","styleTag","appendChild","__qsResult","styleSheet","cssText","scrollBy","removeChild","querySelectorAll","jsonToQuery","a","s","k","v","undefined","encodeURIComponent","buildParams","prefix","obj","key","hasOwnProperty","JSONParse","window","JSON","parse","jsonstr","Function","debounce","fn","delay","timer","args","setTimeout","apply","isMobile","createEvent","e","bindEvent","element","event","cb","capture","addEventListener","attachEvent","bindClickEvent","stop","eventType","preventDefault","stopPropagation","returnValue","trimCls","c","CtrlClass","ele","show","style","display","hide","hasClass","every","addClass","forEach","removeClass","toggleClass","win","xdr","getXHR","XMLHttpRequest","ActiveXObject","xhr2","responseType","Xget","url","data","options","headers","callback","errHandler","msg","log","attempts","aborted","timeoutid","match","crossOrigin","location","host","abort","xhr","readyState","handleResponse","response","responseText","status","statusText","handleError","handleTimeout","send","XDomainRequest","open","_async","setRequestHeader","onload","onerror","onprogress","onreadystatechange","timeout","ontimeout","select","getElementById","target","srcElement","href","value","$container","body","bodyClass","mnavClass","input","box","boxUl","searchData","loadData","getJson","posts","regtest","raw","regExp","lastIndex","render","innerHTML","post","li","path","title","err","str","toLowerCase","searchKey","RegExp","text","sort","b","pri","map","x","_search","search","tagName","getUrl","results","res","oldAdd","className","oldRemove","idx","slice","DOM","appendTo","child","parent","cssGet","styleName","getComputedStyle","cssSet","styleValue","cssMultiSet","val","css","styleNameOrObject","matches","query","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentNode","queryChildren","filter","childNodes","cls","require$$1","dom","require$$0","toInt","exports","parseInt","clone","isArray","source","el","clsList","list","toggleScrolling","handler","axis","DocumentTouch","navigator","msMaxTouchPoints","EventElement","events","bind","eventName","unbind","isHandlerProvided","hdlr","removeEventListener","unbindAll","EventManager","eventElements","eventElement","ee","once","onceHandler","s4","Math","floor","random","substring","_","require$$5","require$$4","defaultSettings","require$$3","require$$2","guid","instances","Instance","settings","containerWidth","containerHeight","contentWidth","contentHeight","isRtl","isNegativeScroll","originalScrollLeft","scrollLeft","negativeScrollAdjustment","scrollWidth","clientWidth","ownerDocument","focus","blur","scrollbarXRail","scrollbarX","scrollbarXActive","scrollbarXWidth","scrollbarXLeft","scrollbarXBottom","isScrollbarXUsingBottom","scrollbarXTop","railBorderXWidth","railXMarginWidth","railXWidth","railXRatio","scrollbarYRail","scrollbarY","scrollbarYActive","scrollbarYHeight","scrollbarYTop","scrollbarYRight","isScrollbarYUsingRight","scrollbarYLeft","scrollbarYOuterWidth","outerWidth","railBorderYWidth","railYMarginHeight","railYHeight","railYRatio","getId","setId","id","removeId","removeAttribute","newId","get","removePsClasses","createDOMEvent","initEvent","scrollTop","dispatchEvent","lastTop","lastLeft","updateScroll","getThumbSize","thumbSize","minScrollbarLength","max","maxScrollbarLength","min","updateCss","xRailOffset","width","left","bottom","top","yRailOffset","height","right","clientHeight","scrollHeight","existingRails","rail","suppressScrollX","scrollXMarginOffset","suppressScrollY","scrollYMarginOffset","updateGeometry","bindClickRailHandler","pageOffset","getBoundingClientRect","positionTop","pageY","pageYOffset","direction","positionLeft","pageX","pageXOffset","bindMouseScrollXHandler","currentLeft","currentPageX","updateScrollLeft","deltaX","newLeft","maxLeft","mouseMoveHandler","mouseUpHandler","stopScrolling","startScrolling","bindMouseScrollYHandler","currentTop","currentPageY","updateScrollTop","deltaY","newTop","maxTop","bindKeyboardHandler","hovered","shouldPrevent","shouldPreventDefault","wheelPropagation","isDefaultPrevented","defaultPrevented","focused","activeElement","contentDocument","shadowRoot","isEditable","which","metaKey","altKey","shiftKey","ctrlKey","bindMouseWheelHandler","getDeltaFromEvent","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","shouldBeConsumedByChild","overflow","overflowX","overflowY","maxScrollTop","maxScrollLeft","mousewheelHandler","delta","useBothWheelAxes","wheelSpeed","onwheel","onmousewheel","bindTouchHandler","supportsTouch","supportsIePointer","magnitudeX","abs","magnitudeY","swipePropagation","applyTouchMove","differenceX","differenceY","startOffset","startTime","speed","easingLoop","inGlobalTouch","inLocalTouch","globalTouchStart","globalTouchEnd","getTouch","targetTouches","shouldHandle","pointerType","MSPOINTER_TYPE_MOUSE","touchStart","touch","Date","getTime","touchMove","currentOffset","currentTime","timeGap","y","touchEnd","swipeEasing","setInterval","PointerEvent","MSPointerEvent","env","bindSelectionHandler","getRangeNode","selection","getSelection","getRangeAt","commonAncestorContainer","scrollingLoop","scrollDiff","isSelected","mousePosition","containerGeometry","offsetLeft","offsetWidth","offsetTop","offsetHeight","bindNativeScrollHandler","require$$10","require$$9","require$$8","require$$7","handlers","require$$6","nativeScrollHandler","userSettings","extend","theme","handlerName","destroy","initialize","update","container","Ps"],"mappings":"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"}